<div class="card">
  <div class="card-header" (click)="collapsed = !collapsed">Insured Accounts
    <fa-icon style="float: right" [icon]="faAngleDown" *ngIf="collapsed"></fa-icon>
    <fa-icon style="float: right" [icon]="faAngleUp" *ngIf="!collapsed"></fa-icon>
  </div>
  <div #collapse="ngbCollapse" [(ngbCollapse)]="collapsed">
    <div style="overflow-x: scroll">
      <table class="table table-striped table-bordered" *ngIf="insuredResults.length">
        <thead>
          <tr>
            <th>Insured Code</th>
            <th>Search Name</th>
            <th>Street Address</th>
            <th>Insured City</th>
            <th>Insured State</th>
            <th>Zip</th>
            <th>Named Insured</th>
            <th>Former Name</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let insured of insuredResults; let i = index">
            <ng-container>
              <td><a [routerLink]="[]" (click)="routeToInsured(insured.insuredCode)">
              <td nowrap>{{ insured.insuredCode }}</td></a></td>
              <td>{{ insured.name }}</td>
              <td>{{ insured.streetAddress }}</td>
              <td>{{ insured.insuredCity }}</td>
              <td>{{ insured.insuredState }}</td>
              <td nowrap>{{ insured.zip | zipCode }}</td>
              <td>{{ insured.insuredName }}</td>
              <td>{{ insured.formerName }} <br> {{ insured.formerName2 }}</td>
            </ng-container>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="card-footer">
    <button *ngIf="canEditInsured" class="footer-button"
      (click)="routeToNewInsured()">Add Insured</button>
    <div class="footer-count">Results:{{insuredResults.length}}</div>
  </div>