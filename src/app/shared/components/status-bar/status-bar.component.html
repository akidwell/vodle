<div class="status-bar"
[style.padding-left.px]="headerPaddingService.sidebarPadding$ | async">
  <div class="header-bar"
  id="headerBar"  #headerBar
  [style.height.px]="headerPaddingService.headerPadding$ | async"
  (window:resize)="onResize()"
  [style.width.px]="headerPaddingService.totalHeaderWidth$ | async"
  [style.margin-left.px]="headerPaddingService.sidebarExpanderWidth$ | async"
  >
    <rsps-insured-header
    *ngIf="pageDataService.insuredData != null"
    [insured]="pageDataService.insuredData"
  ></rsps-insured-header>
    <rsps-policy-header
    *ngIf="pageDataService.policyData != null  && pageDataService.accountInfo != null"
    [accountInfo]="pageDataService.accountInfo"
    [policyInfo]="pageDataService.policyData">
  </rsps-policy-header>
  </div>

  <div class="button-bar"
  *ngIf="(pageDataService.submissionData != null && pageDataService.submissionData.isDirty)
  || (pageDataService.insuredData != null && pageDataService.insuredData.isDirty) || pageDataService.lastSubmission !== null"
  [style.top.px]="headerPaddingService.buttonBarPadding$ | async"
  [style.height.px]="headerPaddingService.buttonBarHeight$ | async">
    <button
      class="btn btn-md btn-primary"
      *ngIf="(canEditSubmission && pageDataService.submissionData != null && pageDataService.submissionData.isDirty) "
      style="margin: 5px;"
      [disabled]="
      pageDataService.submissionData != null && (!pageDataService.submissionData.isDirty || !pageDataService.submissionData.isValid)
      "
      appPreventDoubleClick
      (throttledClick)="saveSubmission()"
      [throttleTime]="700"
    >
      Save
    </button>
    <button
      class="btn btn-md btn-primary"
      *ngIf="(canEditInsured && pageDataService.insuredData != null && pageDataService.insuredData.isDirty) "
      style="margin: 5px"
      [disabled]="
      pageDataService.insuredData != null && (!pageDataService.insuredData.isDirty || !pageDataService.insuredData.isValid)
      "
      appPreventDoubleClick
      (throttledClick)="preSaveInsured()"
      [throttleTime]="700"
    >
      Save
    </button>
    <button
      class="btn btn-md btn-primary"
      *ngIf="(pageDataService.lastSubmission != null) "
      style="margin: 5px"
      (click)="navigateToHistoricRoute(pageDataService.lastSubmission)"
    >
      Return to Submission
    </button>

    <!-- <button class="btn btn-md btn-primary" style="margin: 5px" (click)="headerPaddingService.incrementHeaderPadding(10)">Test</button> -->
    <!-- <span *ngIf="canEditSubmission && submission != null">
      Submission Valid: {{ submission.isValid }}
    </span>
    <span *ngIf="canEditSubmission && submission != null">
      Submission Dirty: {{ submission.isDirty }}
    </span> -->
    <!-- <button
    class="btn btn-md btn-primary"
    *ngIf="canEditSubmission"
    style="margin: 5px"
    [disabled]="!isDirty() || !isValid()"
    appPreventDoubleClick
    (throttledClick)="save()"
    [throttleTime]="700"
  >
    Save
  </button>
  <button
    class="btn btn-md btn-primary"
    *ngIf="canEditSubmission && this.previousUrl !== ''"
    style="margin: 5px"
    appPreventDoubleClick
    (throttledClick)="prev()"
    [throttleTime]="700"
  >
    {{ previousLabel }}
  </button> -->
  </div>
</div>
<rsps-insured-duplicates #modal></rsps-insured-duplicates>
